(function($){$.fn.stickyfloat=function(options,lockBottom){var $obj=this,doc=$(document),opts,bottomPos,pastStartOffset,objFartherThanTopPos,objBiggerThanWindow,newpos,checkTimer,lastDocPos=doc.scrollTop(),parentPaddingTop=parseInt($obj.parent().css("padding-top")),startOffset=$obj.parent().offset().top;$.extend($.fn.stickyfloat.opts,options,{startOffset:startOffset,offsetY:parentPaddingTop});opts=$.fn.stickyfloat.opts;$obj.css({position:"absolute"});if(opts.lockBottom){bottomPos=$obj.parent().height()-$obj.outerHeight()+parentPaddingTop;if(bottomPos<0){bottomPos=0}}function checkScroll(){if(opts.duration>40){clearTimeout(checkTimer);checkTimer=setTimeout(function(){if(Math.abs(doc.scrollTop()-lastDocPos)>0){lastDocPos=doc.scrollTop();initFloat()}},40)}else{initFloat()}}function initFloat(){$obj.stop();pastStartOffset=doc.scrollTop()>opts.startOffset;objFartherThanTopPos=$obj.offset().top>startOffset;objBiggerThanWindow=$obj.outerHeight()<$(window).height();if((pastStartOffset||objFartherThanTopPos)&&objBiggerThanWindow){newpos=(doc.scrollTop()-startOffset+opts.offsetY);if(newpos>bottomPos){newpos=bottomPos}if(doc.scrollTop()<opts.startOffset){newpos=parentPaddingTop}$obj.delay(opts.delay).animate({top:newpos},opts.duration,opts.easing)}}$(window).scroll(checkScroll)};$.fn.stickyfloat.opts={duration:200,lockBottom:true,delay:0,easing:"linear"}})(jQuery);